<div
  style="min-height:100vh; background:#FBFBFD; display:flex; flex-direction:column; align-items:center; justify-content:center; font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; color:#0f172a; padding:40px 20px;"
>
  <div style="width:100%; max-width:600px; display:flex; flex-direction:column; align-items:center; gap:32px;">
    <!-- Logo/Título -->
    <div style="text-align:center; display:flex; flex-direction:column; gap:12px;">
      <h1 style="margin:0; font-size:3.5rem; font-weight:700; letter-spacing:-0.02em; color:#071431; background:linear-gradient(90deg,#1db954,#7c3aed); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;">
        Record
      </h1>
      <p style="margin:0; font-size:1.2rem; color:#64748b; font-weight:500;">Descubre y comparte música</p>
    </div>

    <!-- Card de Login -->
    <div style="width:100%; background:white; border-radius:20px; box-shadow: 0 12px 40px rgba(2,6,23,0.08); padding:48px 40px; display:flex; flex-direction:column; gap:24px;">
      <!-- Mensaje de error -->
      @if (errorMessage) {
        <div style="padding:12px 16px; background:#fff5f5; border:1px solid #fecaca; color:#991b1b; border-radius:12px; font-size:0.9rem;">
          {{ errorMessage }}
        </div>
      }

      <!-- Título del card -->
      <div style="text-align:center;">
        <h2 style="margin:0; font-size:1.5rem; font-weight:700; color:#071431;">Inicia sesión</h2>
        <p style="margin:8px 0 0 0; font-size:0.95rem; color:#64748b;">Ingresa tus credenciales para comenzar</p>
      </div>

      <!-- Formulario de login -->
      <form (ngSubmit)="onLoginSubmit()" style="display:flex; flex-direction:column; gap:20px;">
        <!-- Campo Email -->
        <div style="display:flex; flex-direction:column; gap:8px;">
          <label style="font-size:0.9rem; font-weight:600; color:#071431;">Correo electrónico</label>
          <input
            type="email"
            [(ngModel)]="email"
            name="email"
            required
            placeholder="tu@email.com"
            [disabled]="isProcessing"
            style="
              width:100%;
              padding:14px 16px;
              border:1px solid rgba(15,23,42,0.1);
              border-radius:12px;
              font-size:1rem;
              color:#071431;
              background:white;
              transition: border-color 160ms ease;
              box-sizing:border-box;
            "
            (focus)="onInputFocus($event)"
            (blur)="onInputBlur($event)"
          />
        </div>

        <!-- Campo Contraseña -->
        <div style="display:flex; flex-direction:column; gap:8px;">
          <label style="font-size:0.9rem; font-weight:600; color:#071431;">Contraseña</label>
          <input
            type="password"
            [(ngModel)]="password"
            name="password"
            required
            placeholder="••••••••"
            [disabled]="isProcessing"
            style="
              width:100%;
              padding:14px 16px;
              border:1px solid rgba(15,23,42,0.1);
              border-radius:12px;
              font-size:1rem;
              color:#071431;
              background:white;
              transition: border-color 160ms ease;
              box-sizing:border-box;
            "
            (focus)="onInputFocus($event)"
            (blur)="onInputBlur($event)"
          />
        </div>

        <!-- Botón de login -->
        <button 
          type="submit"
          [disabled]="isProcessing || !email || !password"
          [style.opacity]="(isProcessing || !email || !password) ? '0.7' : '1'"
          [style.cursor]="(isProcessing || !email || !password) ? 'not-allowed' : 'pointer'"
          style="
            width:100%;
            padding:16px 24px;
            background:linear-gradient(90deg,#1db954,#7c3aed);
            color:white;
            border:none;
            border-radius:14px;
            font-weight:600;
            font-size:1.1rem;
            box-shadow: 0 8px 28px rgba(29,185,84,0.12);
            transition: transform 160ms ease, box-shadow 160ms ease;
            display:flex;
            align-items:center;
            justify-content:center;
            gap:12px;
            margin-top:8px;
          "
          (mousedown)="onButtonMouseDown($event)"
          (mouseup)="onButtonMouseUp($event)"
        >
          @if (!isProcessing) {
            <span>Iniciar sesión</span>
          } @else {
            <span style="display:flex; align-items:center; gap:12px;">
              <span style="display:inline-block; width:20px; height:20px; border:3px solid white; border-top-color:transparent; border-radius:50%; animation:spin 0.8s linear infinite;"></span>
              Iniciando sesión...
            </span>
          }
        </button>
      </form>

      <!-- Separador -->
      <div style="display:flex; align-items:center; gap:16px; margin:8px 0;">
        <div style="flex:1; height:1px; background:rgba(15,23,42,0.1);"></div>
        <span style="font-size:0.85rem; color:#94a3b8;">o</span>
        <div style="flex:1; height:1px; background:rgba(15,23,42,0.1);"></div>
      </div>

      <!-- Botón de Spotify -->
      <button 
        [disabled]="isProcessing"
        (click)="onSpotifyLogin()"
        [style.opacity]="isProcessing ? '0.7' : '1'"
        [style.cursor]="isProcessing ? 'not-allowed' : 'pointer'"
        style="
          width:100%;
          padding:16px 24px;
          background:white;
          color:#071431;
          border:1px solid rgba(15,23,42,0.1);
          border-radius:14px;
          font-weight:600;
          font-size:1.1rem;
          transition: transform 160ms ease, box-shadow 160ms ease;
          display:flex;
          align-items:center;
          justify-content:center;
          gap:12px;
        "
        (mousedown)="onButtonMouseDown($event)"
        (mouseup)="onButtonMouseUp($event)"
      >
        <span>Continuar con Spotify</span>
      </button>

      <!-- Información adicional -->
      <div style="text-align:center; padding-top:8px;">
        <p style="margin:0; font-size:0.85rem; color:#94a3b8; line-height:1.5;">
          Al continuar, aceptas compartir tu información de Spotify con Record
        </p>
      </div>
    </div>

    <!-- Footer adicional -->
    <div style="text-align:center;">
      <p style="margin:0; font-size:0.9rem; color:#94a3b8;">
        ¿Primera vez? Crea una cuenta gratuita
      </p>
    </div>
  </div>

  <!-- Estilos para animación de spinner -->
  <style>
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
  </style>
</div>
